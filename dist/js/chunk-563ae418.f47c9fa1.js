(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-563ae418"],{"2d58":function(t,e,a){"use strict";var n=a("8613"),s=a.n(n);s.a},3809:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-wrap"},[n("div",{ref:"page",staticClass:"invite-page"},[n("div",{staticClass:"main"},[n("div",{staticClass:"qrImg"},[n("vue-qr",{attrs:{text:t.registerPagePath,margin:0}})],1),n("p",[t._v("扫码立即下载")]),n("img",{staticClass:"share-text",attrs:{src:a("936e"),alt:""}})])]),n("canvas",{ref:"canvas"}),n("img",{ref:"downloadImg",staticClass:"real_pic",attrs:{src:t.dataURL,alt:""},on:{load:t.saveImg}}),n("a",{staticClass:"back",attrs:{href:"javascript:;"},on:{click:function(e){return t.$router.goBack(-1)}}})])},s=[],o=(a("cc57"),a("f548"),a("4579")),i=a.n(o),r=a("072e"),c=a.n(r),u={components:{vueQr:i.a},data:function(){return{code:localStorage.getItem("inviteCode"),registerPagePath:"https://web.supercards.io/#/register?code="+this.$route.query.code,dataURL:""}},mounted:function(){var t=this;setTimeout((function(){t.toImage()}),500)},methods:{share:function(){window.app.shareCapture(JSON.stringify({webUrl:""}))},saveImg:function(){return},toImage:function(){var t=this;c()(this.$refs.page,{backgroundColor:null}).then((function(e){var a=e.toDataURL("image/png");t.downLoadBase64(a,"shareimg")}))},saveFile:function(t,e){var a=document.createElementNS("http://www.w3.org/1999/xhtml","a");a.href=t,a.download=e;var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),a.dispatchEvent(n),this.$router.goBack(-1)},downLoadBase64:function(t,e){var a=this;a.$toast(123);var n=new plus.nativeObj.Bitmap("appQRCode");n.loadBase64Data(t,(function(t){console.log("加载Base64图片数据成功"),a.$toast(111)}),(function(t){a.$toast(222),console.log("加载Base64图片数据失败："+JSON.stringify(t))})),void 0==e&&(e=plus.runtime.name),e+=".png",n.save("_doc/img/"+e,{},(function(t){console.log("保存图片成功："+JSON.stringify(t)),a.$toast(t.target),plus.share.sendWithSystem({type:"image",pictures:[t.target]},(function(){console.log("分享成功")}),(function(t){a.$toast(555),console.log("分享失败："+JSON.stringify(t))}))}),(function(t){a.$toast(444),console.log("保存图片失败："+JSON.stringify(t))}))}},watch:{},computed:{}},l=u,g=(a("2d58"),a("9ca4")),d=Object(g["a"])(l,n,s,!1,null,"0b6fdb6e",null);e["default"]=d.exports},8613:function(t,e,a){},"936e":function(t,e,a){t.exports=a.p+"img/share_text.ce9ed735.png"}}]);