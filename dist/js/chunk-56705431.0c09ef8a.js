(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56705431"],{"29bb":function(t,e,i){},"43f8":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"notice-page"},[i("HeaderBar",{attrs:{title:"公告列表"}},[i("a",{staticClass:"other",attrs:{href:"javascript:;"},on:{click:t.readAll}},[t._v("全部已读")])]),i("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.list,(function(e,n){return i("div",{key:n,staticClass:"item",on:{click:function(i){return t.$router.push("/noticeDetails?id="+e.id)}}},[i("div",{staticClass:"text"},[i("h4",[t._v(t._s(e.title))]),i("span",[t._v(t._s(t.$fmtDate(e.createTime,"full")))])]),t.readNoticeArr.indexOf(e.id)<0?i("i"):t._e()])})),0)],1)},a=[],o=(i("6d57"),i("0c6d")),s={data:function(){return{list:[],loading:!1,finished:!1,pageNum:1,readNoticeArr:[]}},mounted:function(){this.readNoticeArr=JSON.parse(localStorage.getItem("readNoticeArr"))||[]},methods:{onLoad:function(){this.getData()},getData:function(){var t=this;Object(o["g"])({pageNum:this.pageNum,pageSize:20}).then((function(e){t.list=t.list.concat(e.result.noticeInfos),t.loading=!1,t.finished=!0})).catch((function(e){t.finished=!0,t.loading=!1}))},readAll:function(){var t=this;Object(o["g"])({pageNum:this.pageNum,pageSize:20121212}).then((function(e){var i=[];e.result.noticeInfos.forEach((function(t,e){i.push(t.id)})),t.readNoticeArr=i,localStorage.setItem("readNoticeArr",JSON.stringify(i))}))}}},c=s,r=(i("b198"),i("9ca4")),l=Object(r["a"])(c,n,a,!1,null,"682fcdf4",null);e["default"]=l.exports},b198:function(t,e,i){"use strict";var n=i("29bb"),a=i.n(n);a.a}}]);